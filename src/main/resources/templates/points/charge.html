<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>포인트 충전</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>
<body class="bg-light">

<div class="container mt-5" style="max-width: 480px;">
  <h2 class="text-center mb-4">포인트 충전</h2>

  <form th:action="@{/points/charge}" th:object="${reqBody}" method="post" class="card p-4 shadow-sm">

    <!-- 금액 입력 -->
    <div class="mb-3">
      <label for="amount" class="form-label fw-semibold">충전 금액 (₩)</label>
      <input type="number" th:field="*{amount}"
             id="amount"
             class="form-control"
             placeholder="예: 10000" min="1000" step="1000" required />

      <div class="text-danger small mt-1"
           th:if="${#fields.hasErrors('amount')}"
           th:errors="*{amount}">
        <!-- 유효성 실패 시 메시지 -->
      </div>
    </div>

    <!-- 결제 수단 -->
    <div class="mb-3">
      <label for="paymentMethod" class="form-label fw-semibold">결제 수단</label>
      <select th:field="*{paymentMethod}" id="paymentMethod" class="form-select" required>
        <option value="">-- 결제 수단 선택 --</option>
        <option value="CARD">신용/체크카드</option>
        <!-- 추후 계좌이체, 간편결제 추가 가능 -->
      </select>

      <div class="text-danger small mt-1"
           th:if="${#fields.hasErrors('paymentMethod')}"
           th:errors="*{paymentMethod}">
      </div>
    </div>

    <!-- 버튼 -->
    <div class="d-grid">
      <button type="submit" class="btn btn-primary fw-semibold">
        충전하기
      </button>
    </div>
  </form>

  <!-- 전체 폼 검증 실패 시 -->
  <div class="text-danger mt-3 text-center" th:if="${errors != null}">
    <p th:each="error : ${errors}" th:text="${error.defaultMessage}"></p>
  </div>

  <div class="text-center mt-4">
    <a th:href="@{/points}" class="text-secondary small">← 포인트 내역으로 돌아가기</a>
  </div>
</div>

</body>
</html>
